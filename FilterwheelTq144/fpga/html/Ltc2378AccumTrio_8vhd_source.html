<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESC FilterWheel Fpga Source: Ltc2378AccumTrio.vhd Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESC FilterWheel Fpga Source
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('Ltc2378AccumTrio_8vhd_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Ltc2378AccumTrio.vhd</div></div>
</div><!--header-->
<div class="contents">
<a href="Ltc2378AccumTrio_8vhd.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">--</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">--           Copyright (c) by Franks Development, LLC</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">--</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">-- This software is copyrighted by and is the sole property of Franks</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">-- Development, LLC. All rights, title, ownership, or other interests</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">-- in the software remain the property of Franks Development, LLC. This</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">-- software may only be used in accordance with the corresponding</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">-- license agreement.  Any unauthorized use, duplication, transmission,</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">-- distribution, or disclosure of this software is expressly forbidden.</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">--</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">-- This Copyright notice may not be removed or modified without prior</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">-- written consent of Franks Development, LLC.</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">--</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment">-- Franks Development, LLC. reserves the right to modify this software</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">-- without notice.</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">--</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">-- Franks Development, LLC            support@franks-development.com</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment">-- 500 N. Bahamas Dr. #101           http:--www.franks-development.com</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment">-- Tucson, AZ 85710</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="comment">-- USA</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment">--</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="comment">-- Permission granted for perpetual non-exclusive end-use by the University of Arizona August 1, 2020</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="comment">--</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="comment">--------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="comment">-- Ltc2378AccumTrio-20 A/D handler</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="comment">--</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="comment">-- c2013 Franks Development, LLC</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="comment">--</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="comment">--------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="vhdlkeyword">library </span><span class="keywordflow">IEEE</span>;</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#ae4f03c286607f3181e16b9aa12d0c6d4">   32</a></span><span class="vhdlkeyword">use </span>IEEE.STD_LOGIC_1164.<span class="keywordflow">ALL</span>;</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#ae00f3f04545af57582ff10609eee23e2">   33</a></span><span class="vhdlkeyword">use </span>IEEE.NUMERIC_STD.<span class="keywordflow">all</span>;</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span> </div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="comment">--Considering this as a 24-bit output A/D for rough compatibility with AD7760, we have 8 bits left for PPS timestamp.</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="comment">--100MHz / 256 (8b) &lt; 400k == 2^19 * 0.75, so we have 13b left for seconds of day, which would repeat every 2.5 hours.</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="comment">--And we&#39;re writing the actual seconds into the datafile headers, so we&#39;ll have to tweak it up in the C code. 100MHz = 27 bits.</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span> </div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html">   39</a></span><span class="keywordflow">entity </span><a class="code hl_class" href="classLtc2378AccumTrioPorts.html">Ltc2378AccumTrioPorts</a> <span class="keywordflow">is</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <span class="keywordflow">port</span> <span class="vhdlchar">(</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="comment">        --Globals</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a50da91b765765ac486df1b41692e962f">   43</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a50da91b765765ac486df1b41692e962f">clk</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#ae106f17a2b73445119c8eb039d3e102e">   44</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#ae106f17a2b73445119c8eb039d3e102e">rst</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>        </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="comment">        -- A/D:</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a6702369a2605f8928b98381d6ca651f4">   47</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a6702369a2605f8928b98381d6ca651f4">Trigger</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;<span class="comment"> --rising edge initiates a conversion; 20ns min per hi/lo, so </span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a8664f917fd0b63aac70a9f432d521b6f">   48</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a8664f917fd0b63aac70a9f432d521b6f">nDrdyA</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;<span class="comment"> --Falling edge indicates a new sample is ready, should be approx 1usec after trigger goes high (1MHz)</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#ae4996365c828a8faf87d20119b1521b0">   49</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#ae4996365c828a8faf87d20119b1521b0">nDrdyB</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;<span class="comment"> --Falling edge indicates a new sample is ready, should be approx 1usec after trigger goes high (1MHz)</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a12122ca018733d9217a0def9e6595f02">   50</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a12122ca018733d9217a0def9e6595f02">nDrdyC</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;<span class="comment"> --Falling edge indicates a new sample is ready, should be approx 1usec after trigger goes high (1MHz)</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#aacec3188d4ef48d129570ed9e9ee5c9d">   51</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#aacec3188d4ef48d129570ed9e9ee5c9d">nCsA</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;<span class="comment"> -- 18th bit (msb) of data valid on falling edge.</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#ab6e08f5e1578e236ca2a84a29eaa8190">   52</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#ab6e08f5e1578e236ca2a84a29eaa8190">nCsB</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;<span class="comment"> -- 18th bit (msb) of data valid on falling edge.</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a1b83d907f5b56002ee143294f9a12fbb">   53</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a1b83d907f5b56002ee143294f9a12fbb">nCsC</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;<span class="comment"> -- 18th bit (msb) of data valid on falling edge.</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a2c4c12ecf6eb4315f8c3e5ec0d20b4f5">   54</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a2c4c12ecf6eb4315f8c3e5ec0d20b4f5">Sck</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;<span class="comment"> --can run up to ~100MHz (&quot;&gt;40MHz??); idle in low state</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#abf137664dd4ef8c0013c908a876f9624">   55</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#abf137664dd4ef8c0013c908a876f9624">MisoA</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">in</span>  <span class="keywordtype">std_logic</span>;<span class="comment"> --valid 16nsec after nCs low; shifts on rising edge of sck, sample when sck low.     </span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a930d1f4a2e747a0acab590ffffccb4b8">   56</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a930d1f4a2e747a0acab590ffffccb4b8">MisoB</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">in</span>  <span class="keywordtype">std_logic</span>;<span class="comment"> --valid 16nsec after nCs low; shifts on rising edge of sck, sample when sck low.     </span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#aa4d9db30b119d1d1a125a4071ebba597">   57</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#aa4d9db30b119d1d1a125a4071ebba597">MisoC</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">in</span>  <span class="keywordtype">std_logic</span>;<span class="comment"> --valid 16nsec after nCs low; shifts on rising edge of sck, sample when sck low.     </span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a455ea288aef07919b3c9b4ea8fb7c212">   58</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a455ea288aef07919b3c9b4ea8fb7c212">OverRangeA</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;<span class="comment"> --is the A/D saturated?</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#ac88e3812006822f96c48e579a2ce9e99">   59</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#ac88e3812006822f96c48e579a2ce9e99">OverRangeB</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;<span class="comment"> --is the A/D saturated?</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a4def99ac0b2f874114785b96671b92d8">   60</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a4def99ac0b2f874114785b96671b92d8">OverRangeC</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;<span class="comment"> --is the A/D saturated?</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="comment">        --Control signals</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#aeb4bde87de67fcfade7d502e53b6cfbb">   63</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#aeb4bde87de67fcfade7d502e53b6cfbb">AdcPowerDown</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;<span class="comment"> --self-explanatory...</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a2901f0665163844288bcf578c2549150">   64</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a2901f0665163844288bcf578c2549150">AdcClkDivider</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">in</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">15</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;<span class="comment"> --This knob controls the acquisition speed of the A/D.</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a1fee88b1fefc2c08153289284c3e8654">   65</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a1fee88b1fefc2c08153289284c3e8654">SamplesToAverage</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">in</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">15</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;<span class="comment"> --Only supported on LTC2380-24 hardware! This also controls the acquisition speed of the A/D; each 4x averaging gives an extra bit of SNR or 6dB.</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a78114f1bfe93841b362cba035b2f3b77">   66</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a78114f1bfe93841b362cba035b2f3b77">ChopperEnable</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;<span class="comment"> --turns chopper on/off to reduce 1/f noise and offset!</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#af2c4aae0794acf961d160e7add6806f8">   67</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#af2c4aae0794acf961d160e7add6806f8">ChopperMuxPos</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;<span class="comment"> --switches inputs when chopper on to reduce 1/f noise and offset!</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a039248d1a510208fdd2aa41ff87c0727">   68</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a039248d1a510208fdd2aa41ff87c0727">ChopperMuxNeg</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;<span class="comment"> --switches inputs when chopper on to reduce 1/f noise and offset!</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="comment">        --Bus interface</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a3f2435b155c7eeb88b4c29ef92da567d">   71</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a3f2435b155c7eeb88b4c29ef92da567d">ReadAdcSample</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;<span class="comment">  --&quot;inversion results in read on falling edge so next sample is always in register before we start reading. When fifo is emptied, the first sample will probably always be crap, we&#39;ll fix that when this works...    &quot;</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a837c3a62b1e79c196b1a3f37d8c6d041">   72</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a837c3a62b1e79c196b1a3f37d8c6d041">AdcSampleToReadA</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">47</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;       </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a2ac1b37b76485ae5063353556e5ff591">   73</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a2ac1b37b76485ae5063353556e5ff591">AdcSampleToReadB</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">47</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;       </div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#ac428dd94627ed95979a57bd902e5fdd7">   74</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#ac428dd94627ed95979a57bd902e5fdd7">AdcSampleToReadC</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">47</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;   </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a011b6c940335f47c6da23e5a2b77dc72">   75</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a011b6c940335f47c6da23e5a2b77dc72">AdcSampleNumAccums</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">15</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>        </div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="comment">        --Debug</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a17ebf3ec66c722ddd90e782da887cc68">   78</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a17ebf3ec66c722ddd90e782da887cc68">TP1</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#af62c2f691ddb862ef5b4e92d18006e30">   79</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#af62c2f691ddb862ef5b4e92d18006e30">TP2</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#a693bb629417f0cc210ae4dc82912f4f1">   80</a></span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a693bb629417f0cc210ae4dc82912f4f1">TP3</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#ae8df744efc7f25f447aa65d1e936084e">TP4</a></span> <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span><span class="comment">--;</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span> </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts.html#ae8df744efc7f25f447aa65d1e936084e">   83</a></span>    <span class="vhdlchar">)</span>; <span class="keywordflow">end</span> <a class="code hl_class" href="classLtc2378AccumTrioPorts.html">Ltc2378AccumTrioPorts</a>;</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span> </div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html">   85</a></span><span class="keywordflow">architecture</span> <a class="code hl_class" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html">Ltc2378AccumTrio</a> <span class="keywordflow">of</span> <a class="code hl_class" href="classLtc2378AccumTrioPorts.html">Ltc2378AccumTrioPorts</a> <span class="keywordflow">is</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#ad60196fb461e8a9b57fe678f31b93b1e">   87</a></span>    <span class="keywordflow">component</span> <a class="code hl_class" href="classIBufP2Ports.html">IBufP2Ports</a> <span class="keywordflow">is</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <span class="keywordflow">port</span> (</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>        <a class="code hl_variable" href="classIBufP2Ports.html#a50da91b765765ac486df1b41692e962f">clk</a> : <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>        <a class="code hl_variable" href="classIBufP2Ports.html#a3f039dc652aa87dcfd27466632b46f9e">I</a> : <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>        <a class="code hl_variable" href="classIBufP2Ports.html#ab89355c345ee51203fa0ebedb3789df7">O</a> : <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span><span class="comment">--;</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    );</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    <span class="keywordflow">end</span> <span class="keywordflow">component</span>;</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    </div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a64bbe1c9e8f2ac65c64113bc1d23bfcf">   95</a></span>    <span class="keywordflow">component</span> <a class="code hl_class" href="classVariableClockDividerPorts.html">VariableClockDividerPorts</a> <span class="keywordflow">is</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="keywordflow">generic</span> (</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>        <a class="code hl_variable" href="classVariableClockDividerPorts.html#a328c73179f2d206edbcc89efe2d779ad">WIDTH_BITS</a> : <span class="keywordtype">natural</span> := <span class="vhdllogic"></span><span class="vhdllogic">8</span>;</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>        <a class="code hl_variable" href="classVariableClockDividerPorts.html#a3b8e4034d77aecc179eaa754227e27b4">DIVOUT_RST_STATE</a> : <span class="keywordtype">std_logic</span> := &#39;<span class="vhdllogic"></span><span class="vhdllogic">0</span>&#39;<span class="comment">--;</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    );</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="keywordflow">port</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    (                       </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>        <a class="code hl_variable" href="classVariableClockDividerPorts.html#ab6afeb79cee6c62943c5cd580842a904">clki</a> : <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>        <a class="code hl_variable" href="classVariableClockDividerPorts.html#ae106f17a2b73445119c8eb039d3e102e">rst</a> : <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>        <a class="code hl_variable" href="classVariableClockDividerPorts.html#a9406fa80338b3dc283daf476f82e2ea6">rst_count</a> : <span class="keywordflow">in</span> <span class="keywordtype">std_logic_vector</span>(<a class="code hl_variable" href="classVariableClockDividerPorts.html#a328c73179f2d206edbcc89efe2d779ad">WIDTH_BITS</a><span class="keyword"> -</span> <span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span>);</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>        <a class="code hl_variable" href="classVariableClockDividerPorts.html#abd8f52e80199144de1356e6e442e5632">terminal_count</a> : <span class="keywordflow">in</span> <span class="keywordtype">std_logic_vector</span>(<a class="code hl_variable" href="classVariableClockDividerPorts.html#a328c73179f2d206edbcc89efe2d779ad">WIDTH_BITS</a><span class="keyword"> -</span> <span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span>);</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>        <a class="code hl_variable" href="classVariableClockDividerPorts.html#aa5ba78429503871b8839c61caf563d62">clko</a> : <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    );</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="keywordflow">end</span> <span class="keywordflow">component</span>;</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    </div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a343724c61e2b30a526da5ee74298b759">  110</a></span>    <span class="keywordflow">component</span> <a class="code hl_class" href="classOneShotPorts.html">OneShotPorts</a> <span class="keywordflow">is</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="keywordflow">generic</span> (</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>        <a class="code hl_variable" href="classOneShotPorts.html#ac713e7f8356dce1de08a5ca9e7251f22">CLOCK_FREQHZ</a> : <span class="keywordtype">natural</span> := <span class="vhdllogic"></span><span class="vhdllogic">10000000</span>;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>        <a class="code hl_variable" href="classOneShotPorts.html#afb2df3abec692a2b3e83d5d1cf74b7e6">DELAY_SECONDS</a> : <span class="keywordtype">real</span> := <span class="vhdllogic"></span><span class="vhdllogic">0</span>.<span class="vhdllogic">001</span>;</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>        <a class="code hl_variable" href="classOneShotPorts.html#a6a11fa47a1ec73785d03fb0100709205">SHOT_RST_STATE</a> : <span class="keywordtype">std_logic</span> := &#39;<span class="vhdllogic"></span><span class="vhdllogic">0</span>&#39;;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>        <a class="code hl_variable" href="classOneShotPorts.html#a31d22b1a37cce56337cb74b0ba227d43">SHOT_PRETRIGGER_STATE</a> : <span class="keywordtype">std_logic</span> := &#39;<span class="vhdllogic"></span><span class="vhdllogic">0</span>&#39;<span class="comment">--;</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    );</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="keywordflow">port</span> (</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    </div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>        <a class="code hl_variable" href="classOneShotPorts.html#a50da91b765765ac486df1b41692e962f">clk</a> : <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>        <a class="code hl_variable" href="classOneShotPorts.html#ae106f17a2b73445119c8eb039d3e102e">rst</a> : <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        <a class="code hl_variable" href="classOneShotPorts.html#a9bbb41e72aaac192b35b40aae673643c">shot</a> : <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    );</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    <span class="keywordflow">end</span> <span class="keywordflow">component</span>;</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span> </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#ab8a3d94b35786c76cf190082bfaf0bf7">  125</a></span>    <span class="keywordflow">component</span> <a class="code hl_class" href="classSpiMasterTrioPorts.html">SpiMasterTrioPorts</a> <span class="keywordflow">is</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="keywordflow">generic</span> (</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a0c6fe64603b6c60c6f87c70ff2ef0586">CLOCK_DIVIDER</a> : <span class="keywordtype">integer</span> := <span class="vhdllogic"></span><span class="vhdllogic">4</span>;</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#ab8ff57af1ccdcbcd9c538aa3d276a2a9">BYTE_WIDTH</a> : <span class="keywordtype">natural</span> := <span class="vhdllogic"></span><span class="vhdllogic">1</span>;</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a8db6bfecddf6930f5703b8be6031ef64">CPOL</a> : <span class="keywordtype">std_logic</span> := &#39;<span class="vhdllogic"></span><span class="vhdllogic">0</span>&#39;<span class="comment">--;  </span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    );</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="keywordflow">port</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    (</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a50da91b765765ac486df1b41692e962f">clk</a> : <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#ae106f17a2b73445119c8eb039d3e102e">rst</a> : <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a4ce7af1830e5c42d8c14f6f64d09b73a">MosiA</a> : <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a0cb0d82b93a514529e8fe015095c10f3">MosiB</a> : <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a0dab64414058cfb072958100082d0452">MosiC</a> : <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a2c4c12ecf6eb4315f8c3e5ec0d20b4f5">Sck</a> : <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#abf137664dd4ef8c0013c908a876f9624">MisoA</a> : <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a930d1f4a2e747a0acab590ffffccb4b8">MisoB</a> : <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#aa4d9db30b119d1d1a125a4071ebba597">MisoC</a> : <span class="keywordflow">in</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a87b4547d8281df9cbc4fb3e7f9754431">DataToMosiA</a> : <span class="keywordflow">in</span> <span class="keywordtype">std_logic_vector</span>((<a class="code hl_variable" href="classSpiMasterTrioPorts.html#ab8ff57af1ccdcbcd9c538aa3d276a2a9">BYTE_WIDTH</a> * <span class="vhdllogic"></span><span class="vhdllogic">8</span>)<span class="keyword"> -</span> <span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span>);</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#abc283f45349c45ac39898b612385c8ae">DataToMosiB</a> : <span class="keywordflow">in</span> <span class="keywordtype">std_logic_vector</span>((<a class="code hl_variable" href="classSpiMasterTrioPorts.html#ab8ff57af1ccdcbcd9c538aa3d276a2a9">BYTE_WIDTH</a> * <span class="vhdllogic"></span><span class="vhdllogic">8</span>)<span class="keyword"> -</span> <span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span>);</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a4f59a0bc20f9002233d662f15fcd7445">DataToMosiC</a> : <span class="keywordflow">in</span> <span class="keywordtype">std_logic_vector</span>((<a class="code hl_variable" href="classSpiMasterTrioPorts.html#ab8ff57af1ccdcbcd9c538aa3d276a2a9">BYTE_WIDTH</a> * <span class="vhdllogic"></span><span class="vhdllogic">8</span>)<span class="keyword"> -</span> <span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span>);</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a47dbfcf57950840b78e393a0edafa590">DataFromMisoA</a> : <span class="keywordflow">out</span> <span class="keywordtype">std_logic_vector</span>((<a class="code hl_variable" href="classSpiMasterTrioPorts.html#ab8ff57af1ccdcbcd9c538aa3d276a2a9">BYTE_WIDTH</a> * <span class="vhdllogic"></span><span class="vhdllogic">8</span>)<span class="keyword"> -</span> <span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span>);</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#ad4eb4a624c47b0c231e8f7cc7cf7b452">DataFromMisoB</a> : <span class="keywordflow">out</span> <span class="keywordtype">std_logic_vector</span>((<a class="code hl_variable" href="classSpiMasterTrioPorts.html#ab8ff57af1ccdcbcd9c538aa3d276a2a9">BYTE_WIDTH</a> * <span class="vhdllogic"></span><span class="vhdllogic">8</span>)<span class="keyword"> -</span> <span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span>);</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#aff9a2dd68330c676e3329bd32dbef8ff">DataFromMisoC</a> : <span class="keywordflow">out</span> <span class="keywordtype">std_logic_vector</span>((<a class="code hl_variable" href="classSpiMasterTrioPorts.html#ab8ff57af1ccdcbcd9c538aa3d276a2a9">BYTE_WIDTH</a> * <span class="vhdllogic"></span><span class="vhdllogic">8</span>)<span class="keyword"> -</span> <span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span>);</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a4e5b911ada797dbf2555df752b56c302">XferComplete</a> : <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span><span class="comment">--;</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    );</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="keywordflow">end</span> <span class="keywordflow">component</span>;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span><span class="comment">    --nDrdy is inverted (obviously)</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a5a86ed64ed54d7a2e8965cfd6b8dcf48">  153</a></span>    <span class="keywordflow">constant</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a5a86ed64ed54d7a2e8965cfd6b8dcf48">DataReady</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span> <span class="vhdlchar">:=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a56041b2a050cc57d32e5fa8dfa12e26f">  154</a></span>    <span class="keywordflow">constant</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a56041b2a050cc57d32e5fa8dfa12e26f">NoDataReady</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span> <span class="vhdlchar">:=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#ae0b56baaf517c389ca8733957da63f54">  156</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#ae0b56baaf517c389ca8733957da63f54">LastnDrdy</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;<span class="comment"> --to grab edge</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    </div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span><span class="comment">    --~ signal LastPPS : std_logic; </span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span><span class="comment">    --~ signal DataFromMisoA : signed(23 downto 0);</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span><span class="comment">    --~ signal DataFromMisoB : signed(23 downto 0);</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="comment">    --~ signal DataFromMisoC : signed(23 downto 0);</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a5e4543380fe2af02f3003eb2bf096834">  163</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a5e4543380fe2af02f3003eb2bf096834">DataFromMisoA</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a29b32760efd7e2ed9f685a5d6ace720f">  164</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a29b32760efd7e2ed9f685a5d6ace720f">DataFromMisoB</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a1375e7eb55e063e3b6c307ba03303e38">  165</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a1375e7eb55e063e3b6c307ba03303e38">DataFromMisoC</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a95038c4007ce44e1ac1544ea92bd699e">  166</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a95038c4007ce44e1ac1544ea92bd699e">SpiRst</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;<span class="comment"> --kicks off / inhibits transfer of a sample out of the A/D</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a0f6d88d918c9b9400d91a41204e8cbfd">  167</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a0f6d88d918c9b9400d91a41204e8cbfd">SpiRst_i</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;<span class="comment"> --delayed version to give a/d time to drive miso</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a897b2465f1a32397cfded503ea0617a4">  168</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a897b2465f1a32397cfded503ea0617a4">SpiXferComplete</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aea05eba3d1b6dd1132679b0320691b5a">  169</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aea05eba3d1b6dd1132679b0320691b5a">LastSpiXferComplete</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a4d6d3b2abbc19cc0620bc374d5e86c64">  170</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a4d6d3b2abbc19cc0620bc374d5e86c64">Sck_i</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><span class="comment">    --~ signal LastSyncRequest : std_logic;</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    </div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a0199ea23e2fae4abb87aa278c33d9214">  174</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a0199ea23e2fae4abb87aa278c33d9214">TriggeredSampleClk</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="comment">    --~ type TrigStates is (Idle, WaitTriggered);</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span><span class="comment">    --~ signal TrigNextState : TrigStates;</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span><span class="comment">    --~ signal TrigCurrentState : TrigStates;</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a977cb11de0166c3d59f8e5832bc3d584">  180</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a977cb11de0166c3d59f8e5832bc3d584">AdcSampleA</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aef1c5f0ff5115372ff3e871dd9547745">  181</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aef1c5f0ff5115372ff3e871dd9547745">AdcSampleB</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a8e1ce9ee5d4c2f027cef31cab6409f61">  182</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a8e1ce9ee5d4c2f027cef31cab6409f61">AdcSampleC</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a39464606a507df6730bb0b143e8b1fb6">  183</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a39464606a507df6730bb0b143e8b1fb6">SampleLatched</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    </div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a85fc7571b3f5ca401e665b34e349521c">  185</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a85fc7571b3f5ca401e665b34e349521c">SamplesAveraged</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">15</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a580d96891b848659f5d1088a1259f073">  186</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a580d96891b848659f5d1088a1259f073">SamplesThisSecond</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">31</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    </div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a11cddd149aee795596bcf7f5bcdd4893">  188</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a11cddd149aee795596bcf7f5bcdd4893">LastReadRequest</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span> </div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aa485c2952fbc95c44b5fed8fac2cd7e5">  190</a></span>    <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aa485c2952fbc95c44b5fed8fac2cd7e5">ChopperPolarity</a></span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span> <span class="vhdlchar">:=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    </div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span><span class="vhdlkeyword">begin</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span> </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a17ebf3ec66c722ddd90e782da887cc68">TP1</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a95038c4007ce44e1ac1544ea92bd699e">SpiRst</a></span>;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#af62c2f691ddb862ef5b4e92d18006e30">TP2</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a4d6d3b2abbc19cc0620bc374d5e86c64">Sck_i</a></span>;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a693bb629417f0cc210ae4dc82912f4f1">TP3</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a39464606a507df6730bb0b143e8b1fb6">SampleLatched</a></span>;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#ae8df744efc7f25f447aa65d1e936084e">TP4</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a0199ea23e2fae4abb87aa278c33d9214">TriggeredSampleClk</a></span>;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span> </div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span><span class="comment">    --~ TP1 &lt;= nDrdyA;</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span><span class="comment">    --~ TP2 &lt;= nDrdyB;</span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span><span class="comment">    --~ TP3 &lt;= nDrdyC;</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    </div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span><span class="comment">    --Just run the A/D (max speed is clk / 96 [2^20Hz], min speed = 100MHz/16k = 1.536kHz)</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#ab7a77e40bf258b64127a6d899dda34fc">clk_div_adcconv</a> : <a class="code hl_class" href="classVariableClockDividerPorts.html">VariableClockDividerPorts</a></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <span class="keywordflow">generic</span> <span class="keywordflow">map</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    (</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>        <a class="code hl_variable" href="classVariableClockDividerPorts.html#a328c73179f2d206edbcc89efe2d779ad">WIDTH_BITS</a> =&gt; <span class="vhdllogic">16</span><span class="comment">--,</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    <span class="vhdlchar">)</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    <span class="keywordflow">port</span> <span class="keywordflow">map</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    (</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>        <a class="code hl_variable" href="classVariableClockDividerPorts.html#ab6afeb79cee6c62943c5cd580842a904">clki</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a50da91b765765ac486df1b41692e962f">clk</a>,</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>        <a class="code hl_variable" href="classVariableClockDividerPorts.html#ae106f17a2b73445119c8eb039d3e102e">rst</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#ae106f17a2b73445119c8eb039d3e102e">rst</a>,</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        <a class="code hl_variable" href="classVariableClockDividerPorts.html#a9406fa80338b3dc283daf476f82e2ea6">rst_count</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a2901f0665163844288bcf578c2549150">AdcClkDivider</a>,</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>        <a class="code hl_variable" href="classVariableClockDividerPorts.html#abd8f52e80199144de1356e6e442e5632">terminal_count</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a2901f0665163844288bcf578c2549150">AdcClkDivider</a>,</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>        <a class="code hl_variable" href="classVariableClockDividerPorts.html#aa5ba78429503871b8839c61caf563d62">clko</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a0199ea23e2fae4abb87aa278c33d9214">TriggeredSampleClk</a></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#ab7a77e40bf258b64127a6d899dda34fc">  216</a></span>    <span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a6702369a2605f8928b98381d6ca651f4">Trigger</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a0199ea23e2fae4abb87aa278c33d9214">TriggeredSampleClk</a></span> <span class="keywordflow">and</span> <span class="keywordflow">not</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#aeb4bde87de67fcfade7d502e53b6cfbb">AdcPowerDown</a></span><span class="vhdlchar">)</span>;<span class="comment"> --falling edge initiates a conversion; we should add AdcPowerDown to the equation to save power...(200mW converting, 75uW idle)</span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span> </div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span><span class="comment">    --Are we over-range?</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a455ea288aef07919b3c9b4ea8fb7c212">OverRangeA</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span> <span class="keywordflow">when</span> <span class="vhdlchar">(</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a977cb11de0166c3d59f8e5832bc3d584">AdcSampleA</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span> <span class="vhdlchar">=</span> <span class="vhdllogic">&quot;011111111111111111111111&quot;</span><span class="vhdlchar">)</span> <span class="keywordflow">or</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a977cb11de0166c3d59f8e5832bc3d584">AdcSampleA</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span> <span class="vhdlchar">=</span> <span class="vhdllogic">&quot;100000000000000000000000&quot;</span><span class="vhdlchar">)</span> <span class="vhdlchar">)</span> <span class="keywordflow">else</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;<span class="comment"> --This is either +/- VRef...</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#ac88e3812006822f96c48e579a2ce9e99">OverRangeB</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span> <span class="keywordflow">when</span> <span class="vhdlchar">(</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aef1c5f0ff5115372ff3e871dd9547745">AdcSampleB</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span> <span class="vhdlchar">=</span> <span class="vhdllogic">&quot;011111111111111111111111&quot;</span><span class="vhdlchar">)</span> <span class="keywordflow">or</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aef1c5f0ff5115372ff3e871dd9547745">AdcSampleB</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span> <span class="vhdlchar">=</span> <span class="vhdllogic">&quot;100000000000000000000000&quot;</span><span class="vhdlchar">)</span> <span class="vhdlchar">)</span> <span class="keywordflow">else</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;<span class="comment"> --This is either +/- VRef...</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a4def99ac0b2f874114785b96671b92d8">OverRangeC</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span> <span class="keywordflow">when</span> <span class="vhdlchar">(</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a8e1ce9ee5d4c2f027cef31cab6409f61">AdcSampleC</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span> <span class="vhdlchar">=</span> <span class="vhdllogic">&quot;011111111111111111111111&quot;</span><span class="vhdlchar">)</span> <span class="keywordflow">or</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a8e1ce9ee5d4c2f027cef31cab6409f61">AdcSampleC</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span> <span class="vhdlchar">=</span> <span class="vhdllogic">&quot;100000000000000000000000&quot;</span><span class="vhdlchar">)</span> <span class="vhdlchar">)</span> <span class="keywordflow">else</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;<span class="comment"> --This is either +/- VRef...</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span> </div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a2c4c12ecf6eb4315f8c3e5ec0d20b4f5">Sck</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a4d6d3b2abbc19cc0620bc374d5e86c64">Sck_i</a></span>;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span><span class="comment">    --ltc23xx miso transitions on falling edge of sck. First rising edge is msb; if falling edge before, falling ignored (sck idles low).</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    Spi : <a class="code hl_class" href="classSpiMasterTrioPorts.html">SpiMasterTrioPorts</a></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="keywordflow">generic</span> <span class="keywordflow">map</span> (</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span><span class="comment">        --~ CLOCK_DIVIDER =&gt; 0, --supposed to work at 100MHz; ...datasheet suggests &gt;64...</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span><span class="comment">        --~ CLOCK_DIVIDER =&gt; 1, --supposed to work at 100MHz; ...datasheet suggests &gt;64...</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a0c6fe64603b6c60c6f87c70ff2ef0586">CLOCK_DIVIDER</a> =&gt; <span class="vhdllogic">32</span>,<span class="comment"> --1.5MHz</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span><span class="comment">        --~ CLOCK_DIVIDER =&gt; 10, --10MHz</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span><span class="comment">        --~ CLOCK_DIVIDER =&gt; 4, --36MHz</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span><span class="comment">        --~ CLOCK_DIVIDER =&gt; MASTER_CLOCK_FREQHZ / 10000,</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#ab8ff57af1ccdcbcd9c538aa3d276a2a9">BYTE_WIDTH</a> =&gt; <span class="vhdllogic">3</span>,<span class="comment"> --Ltc2378AccumTrio samples are 18 bits wide; will be left-just to 24bit.</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a8db6bfecddf6930f5703b8be6031ef64">CPOL</a> =&gt; &#39;0&#39;<span class="comment">--,</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    <span class="vhdlchar">)</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    <span class="keywordflow">port</span> <span class="keywordflow">map</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    (</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a50da91b765765ac486df1b41692e962f">clk</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a50da91b765765ac486df1b41692e962f">clk</a>,<span class="comment"> --runs off the same clock as the A/D to keep everything nicely aligned &amp; quiet</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#ae106f17a2b73445119c8eb039d3e102e">rst</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a0f6d88d918c9b9400d91a41204e8cbfd">SpiRst_i</a>,<span class="comment"> --every sample requires a set/rst sequence to run spimaster</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a4ce7af1830e5c42d8c14f6f64d09b73a">MosiA</a> =&gt; <span class="keywordflow">open</span>,<span class="comment"> --we don&#39;t actually send anything to the A/D, all it needs is the sample trigger/clock</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a0cb0d82b93a514529e8fe015095c10f3">MosiB</a> =&gt; <span class="keywordflow">open</span>,<span class="comment"> --we don&#39;t actually send anything to the A/D, all it needs is the sample trigger/clock</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a0dab64414058cfb072958100082d0452">MosiC</a> =&gt; <span class="keywordflow">open</span>,<span class="comment"> --we don&#39;t actually send anything to the A/D, all it needs is the sample trigger/clock</span></div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a2c4c12ecf6eb4315f8c3e5ec0d20b4f5">Sck</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a4d6d3b2abbc19cc0620bc374d5e86c64">Sck_i</a>,</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#abf137664dd4ef8c0013c908a876f9624">MisoA</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#abf137664dd4ef8c0013c908a876f9624">MisoA</a>,</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a930d1f4a2e747a0acab590ffffccb4b8">MisoB</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a930d1f4a2e747a0acab590ffffccb4b8">MisoB</a>,</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#aa4d9db30b119d1d1a125a4071ebba597">MisoC</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#aa4d9db30b119d1d1a125a4071ebba597">MisoC</a>,</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a87b4547d8281df9cbc4fb3e7f9754431">DataToMosiA</a> =&gt; x&quot;000000&quot;,</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#abc283f45349c45ac39898b612385c8ae">DataToMosiB</a> =&gt; x&quot;000000&quot;,</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a4f59a0bc20f9002233d662f15fcd7445">DataToMosiC</a> =&gt; x&quot;000000&quot;,</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a47dbfcf57950840b78e393a0edafa590">DataFromMisoA</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a5e4543380fe2af02f3003eb2bf096834">DataFromMisoA</a>,</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#ad4eb4a624c47b0c231e8f7cc7cf7b452">DataFromMisoB</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a29b32760efd7e2ed9f685a5d6ace720f">DataFromMisoB</a>,</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#aff9a2dd68330c676e3329bd32dbef8ff">DataFromMisoC</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a1375e7eb55e063e3b6c307ba03303e38">DataFromMisoC</a>,</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        <a class="code hl_variable" href="classSpiMasterTrioPorts.html#a4e5b911ada797dbf2555df752b56c302">XferComplete</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a897b2465f1a32397cfded503ea0617a4">SpiXferComplete</a><span class="comment">--,</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a2ae0772e795962ab1057bf7fd79dc270">  256</a></span>    <span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    </div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    SpiEnableDelayOneShot : <a class="code hl_class" href="classOneShotPorts.html">OneShotPorts</a></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <span class="keywordflow">generic</span> <span class="keywordflow">map</span> (</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>        <a class="code hl_variable" href="classOneShotPorts.html#ac713e7f8356dce1de08a5ca9e7251f22">CLOCK_FREQHZ</a> =&gt; <span class="vhdllogic">100000000</span>,</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>        <a class="code hl_variable" href="classOneShotPorts.html#afb2df3abec692a2b3e83d5d1cf74b7e6">DELAY_SECONDS</a> =&gt; <span class="vhdllogic">0.00000003</span>,</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>        <a class="code hl_variable" href="classOneShotPorts.html#a6a11fa47a1ec73785d03fb0100709205">SHOT_RST_STATE</a> =&gt; &#39;1&#39;,</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        <a class="code hl_variable" href="classOneShotPorts.html#a31d22b1a37cce56337cb74b0ba227d43">SHOT_PRETRIGGER_STATE</a> =&gt; &#39;1&#39;</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    <span class="vhdlchar">)</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    <span class="keywordflow">port</span> <span class="keywordflow">map</span> (      </div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>        <a class="code hl_variable" href="classOneShotPorts.html#a50da91b765765ac486df1b41692e962f">clk</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a50da91b765765ac486df1b41692e962f">clk</a>,</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>        <a class="code hl_variable" href="classOneShotPorts.html#ae106f17a2b73445119c8eb039d3e102e">rst</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a95038c4007ce44e1ac1544ea92bd699e">SpiRst</a>,</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>        <a class="code hl_variable" href="classOneShotPorts.html#a9bbb41e72aaac192b35b40aae673643c">shot</a> =&gt; <a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a0f6d88d918c9b9400d91a41204e8cbfd">SpiRst_i</a><span class="comment">--,</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a54f2e44d091aff81355bb2afce5ef268">  269</a></span>    <span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    </div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#aacec3188d4ef48d129570ed9e9ee5c9d">nCsA</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a95038c4007ce44e1ac1544ea92bd699e">SpiRst</a></span>;<span class="comment"> --these concepts are synchronous in this design</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#ab6e08f5e1578e236ca2a84a29eaa8190">nCsB</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a95038c4007ce44e1ac1544ea92bd699e">SpiRst</a></span>;<span class="comment"> --these concepts are synchronous in this design</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a1b83d907f5b56002ee143294f9a12fbb">nCsC</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a95038c4007ce44e1ac1544ea92bd699e">SpiRst</a></span>;<span class="comment"> --these concepts are synchronous in this design</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    </div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span><span class="comment">    --Read A/D:</span></div>
<div class="foldopen" id="foldopen00276" data-start="" data-end="">
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno"><a class="line" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aec38f6cbcc83d037308d9320e60bcf39">  276</a></span>    <span class="keywordflow">process</span> (<a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a50da91b765765ac486df1b41692e962f">clk</a>, <a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#ae106f17a2b73445119c8eb039d3e102e">rst</a>, <a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a8664f917fd0b63aac70a9f432d521b6f">nDrdyA</a>, <a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#ae4996365c828a8faf87d20119b1521b0">nDrdyB</a>, <a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a12122ca018733d9217a0def9e6595f02">nDrdyC</a>, <a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a897b2465f1a32397cfded503ea0617a4">SpiXferComplete</a>)</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span><span class="vhdlkeyword">    begin</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    </div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>        <span class="keywordflow">if</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#ae106f17a2b73445119c8eb039d3e102e">rst</a></span> <span class="vhdlchar">=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">)</span> <span class="keywordflow">then</span><span class="comment"> --We&#39;re using AdcClkReset instead of the external rst signal here so that sync will reset SamplesAveraged so our sample is aligned to sync when we are downsampling...</span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        </div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>            <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a95038c4007ce44e1ac1544ea92bd699e">SpiRst</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span>;          </div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>            <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#ae0b56baaf517c389ca8733957da63f54">LastnDrdy</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span><span class="comment">            --~ SampleLatched &lt;= &#39;0&#39;;</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>            <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a39464606a507df6730bb0b143e8b1fb6">SampleLatched</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span><span class="comment">            --~ AdcSample &lt;= x&quot;0000000000000000&quot;;</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>            <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aea05eba3d1b6dd1132679b0320691b5a">LastSpiXferComplete</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>            <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a85fc7571b3f5ca401e665b34e349521c">SamplesAveraged</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">x</span><span class="vhdllogic">&quot;0000&quot;</span>;</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>            <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a580d96891b848659f5d1088a1259f073">SamplesThisSecond</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">x</span><span class="vhdllogic">&quot;00000000&quot;</span>;</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>            <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aa485c2952fbc95c44b5fed8fac2cd7e5">ChopperPolarity</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>            <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#af2c4aae0794acf961d160e7add6806f8">ChopperMuxPos</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>            <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a039248d1a510208fdd2aa41ff87c0727">ChopperMuxNeg</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;       </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>            <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a11cddd149aee795596bcf7f5bcdd4893">LastReadRequest</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;         </div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>            </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>            </div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>            <span class="keywordflow">if</span> <span class="vhdlchar">(</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a50da91b765765ac486df1b41692e962f">clk</a></span><span class="vhdlchar">&#39;</span><span class="vhdlkeyword">event</span><span class="vhdlchar">)</span> <span class="keywordflow">and</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a50da91b765765ac486df1b41692e962f">clk</a></span> <span class="vhdlchar">=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">)</span> <span class="vhdlchar">)</span> <span class="keywordflow">then</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>            </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span><span class="comment">                --Follow Drdy</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span><span class="comment">                --~ if (nDrdy /= LastnDrdy) then</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span><span class="comment">                    --~ LastnDrdy &lt;= nDrdy;</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span><span class="comment">                    --~ if (nDrdy = DataReady) then</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>                    </div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>                <span class="keywordflow">if</span> <span class="vhdlchar">(</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a8664f917fd0b63aac70a9f432d521b6f">nDrdyA</a></span> <span class="vhdlchar">=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a5a86ed64ed54d7a2e8965cfd6b8dcf48">DataReady</a></span><span class="vhdlchar">)</span> <span class="keywordflow">and</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#ae4996365c828a8faf87d20119b1521b0">nDrdyB</a></span> <span class="vhdlchar">=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a5a86ed64ed54d7a2e8965cfd6b8dcf48">DataReady</a></span><span class="vhdlchar">)</span> <span class="keywordflow">and</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a12122ca018733d9217a0def9e6595f02">nDrdyC</a></span> <span class="vhdlchar">=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a5a86ed64ed54d7a2e8965cfd6b8dcf48">DataReady</a></span><span class="vhdlchar">)</span> <span class="keywordflow">and</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#ae0b56baaf517c389ca8733957da63f54">LastnDrdy</a></span> <span class="vhdlchar">=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a56041b2a050cc57d32e5fa8dfa12e26f">NoDataReady</a></span><span class="vhdlchar">)</span><span class="vhdlchar">)</span> <span class="keywordflow">then</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>                </div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>                    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#ae0b56baaf517c389ca8733957da63f54">LastnDrdy</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a5a86ed64ed54d7a2e8965cfd6b8dcf48">DataReady</a></span>;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>                    </div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span><span class="comment">                    --Here we go...</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>                    </div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span><span class="comment">                    --Switch the mux right at start of acquisition (aka right after a conversion is finished) to maximize settling time:</span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>                    <span class="keywordflow">if</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a78114f1bfe93841b362cba035b2f3b77">ChopperEnable</a></span> <span class="vhdlchar">=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">)</span> <span class="keywordflow">then</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span> </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>                        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#af2c4aae0794acf961d160e7add6806f8">ChopperMuxPos</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aa485c2952fbc95c44b5fed8fac2cd7e5">ChopperPolarity</a></span>;</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>                        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a039248d1a510208fdd2aa41ff87c0727">ChopperMuxNeg</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aa485c2952fbc95c44b5fed8fac2cd7e5">ChopperPolarity</a></span>;</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>                        </div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>                    <span class="keywordflow">end</span> <span class="keywordflow">if</span>;</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>                    </div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span><span class="comment">                    --~ if (SamplesAveraged &gt;= SamplesToAverage) then</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span><span class="comment">                    --~ if ( (SamplesAveraged &gt;= SamplesToAverage) or ((PPSTrigger = &#39;1&#39;) and (PPSCount &gt; std_logic_vector(to_unsigned(100663196, 32)))) ) then</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>                    <span class="keywordflow">if</span> <span class="vhdlchar">(</span><span class="keywordtype">unsigned</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a85fc7571b3f5ca401e665b34e349521c">SamplesAveraged</a></span><span class="vhdlchar">)</span> <span class="vhdlchar">&gt;=</span> <span class="keywordtype">unsigned</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a1fee88b1fefc2c08153289284c3e8654">SamplesToAverage</a></span><span class="vhdlchar">)</span><span class="vhdlchar">)</span> <span class="keywordflow">then</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>                    </div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>                        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a85fc7571b3f5ca401e665b34e349521c">SamplesAveraged</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">x</span><span class="vhdllogic">&quot;0000&quot;</span>;</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>                </div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span><span class="comment">                        --Initiate reading the data.</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>                        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a95038c4007ce44e1ac1544ea92bd699e">SpiRst</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>                        </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span><span class="comment">                        --Tell the outside world we&#39;re now in the middle of things.</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>                        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a39464606a507df6730bb0b143e8b1fb6">SampleLatched</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>                        </div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span><span class="comment">                        --Ask for a timestamp:</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span><span class="comment">                        --~ AdcSample(50 downto 24) &lt;= PPSCount(26 downto 0);</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span><span class="comment">                        --~ AdcSample(63 downto 51) &lt;= Seconds(12 downto 0);</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>                        </div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>                    </div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>                        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a85fc7571b3f5ca401e665b34e349521c">SamplesAveraged</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="keywordtype">unsigned</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a85fc7571b3f5ca401e665b34e349521c">SamplesAveraged</a></span><span class="vhdlchar">)</span> <span class="vhdlchar">+</span> <span class="vhdlchar">x</span><span class="vhdllogic">&quot;0001&quot;</span><span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>                    </div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>                    <span class="keywordflow">end</span> <span class="keywordflow">if</span>;</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>                    </div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>                </div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>                    <span class="keywordflow">if</span> <span class="vhdlchar">(</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a8664f917fd0b63aac70a9f432d521b6f">nDrdyA</a></span> <span class="vhdlchar">=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a56041b2a050cc57d32e5fa8dfa12e26f">NoDataReady</a></span><span class="vhdlchar">)</span> <span class="keywordflow">and</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#ae4996365c828a8faf87d20119b1521b0">nDrdyB</a></span> <span class="vhdlchar">=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a56041b2a050cc57d32e5fa8dfa12e26f">NoDataReady</a></span><span class="vhdlchar">)</span> <span class="keywordflow">and</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a12122ca018733d9217a0def9e6595f02">nDrdyC</a></span> <span class="vhdlchar">=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a56041b2a050cc57d32e5fa8dfa12e26f">NoDataReady</a></span><span class="vhdlchar">)</span> <span class="keywordflow">and</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#ae0b56baaf517c389ca8733957da63f54">LastnDrdy</a></span> <span class="vhdlchar">=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a5a86ed64ed54d7a2e8965cfd6b8dcf48">DataReady</a></span><span class="vhdlchar">)</span><span class="vhdlchar">)</span> <span class="keywordflow">then</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>                    </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>                        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#ae0b56baaf517c389ca8733957da63f54">LastnDrdy</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a56041b2a050cc57d32e5fa8dfa12e26f">NoDataReady</a></span>;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>                        </div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span> </div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span><span class="comment">                        --Wait for Spi xfer to complete, then grab the sample and we&#39;re done</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>                        <span class="keywordflow">if</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a897b2465f1a32397cfded503ea0617a4">SpiXferComplete</a></span> <span class="vhdlchar">/=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aea05eba3d1b6dd1132679b0320691b5a">LastSpiXferComplete</a></span><span class="vhdlchar">)</span> <span class="keywordflow">then</span></div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>                        </div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>                            <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aea05eba3d1b6dd1132679b0320691b5a">LastSpiXferComplete</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a897b2465f1a32397cfded503ea0617a4">SpiXferComplete</a></span>;</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span> </div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>                            <span class="keywordflow">if</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a897b2465f1a32397cfded503ea0617a4">SpiXferComplete</a></span> <span class="vhdlchar">=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">)</span> <span class="keywordflow">then</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>                        </div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>                                <span class="keywordflow">if</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a78114f1bfe93841b362cba035b2f3b77">ChopperEnable</a></span> <span class="vhdlchar">=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">)</span> <span class="keywordflow">then</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>                                </div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span><span class="comment">                                    --grab sample</span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>                                    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a977cb11de0166c3d59f8e5832bc3d584">AdcSampleA</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a5e4543380fe2af02f3003eb2bf096834">DataFromMisoA</a></span>;</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>                                    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aef1c5f0ff5115372ff3e871dd9547745">AdcSampleB</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a29b32760efd7e2ed9f685a5d6ace720f">DataFromMisoB</a></span>;</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>                                    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a8e1ce9ee5d4c2f027cef31cab6409f61">AdcSampleC</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a1375e7eb55e063e3b6c307ba03303e38">DataFromMisoC</a></span>;</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span><span class="comment">                                    --~ AdcSampleA &lt;= std_logic_vector(to_signed(0, 48) + signed(DataFromMisoA));</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span><span class="comment">                                    --~ AdcSampleB &lt;= std_logic_vector(to_signed(0, 48) + signed(DataFromMisoB));</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span><span class="comment">                                    --~ AdcSampleC &lt;= std_logic_vector(to_signed(0, 48) + signed(DataFromMisoC));</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>                                    </div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>                                    </div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>                                    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a39464606a507df6730bb0b143e8b1fb6">SampleLatched</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>                                    </div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>                                <span class="keywordflow">else</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>                                </div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>                                    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aa485c2952fbc95c44b5fed8fac2cd7e5">ChopperPolarity</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordflow">not</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aa485c2952fbc95c44b5fed8fac2cd7e5">ChopperPolarity</a></span><span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>                                    </div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>                                    <span class="keywordflow">if</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aa485c2952fbc95c44b5fed8fac2cd7e5">ChopperPolarity</a></span> <span class="vhdlchar">=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">)</span> <span class="keywordflow">then</span></div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>                                    </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span><span class="comment">                                        --just grab sample</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>                                        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a977cb11de0166c3d59f8e5832bc3d584">AdcSampleA</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a5e4543380fe2af02f3003eb2bf096834">DataFromMisoA</a></span>;</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>                                        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aef1c5f0ff5115372ff3e871dd9547745">AdcSampleB</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a29b32760efd7e2ed9f685a5d6ace720f">DataFromMisoB</a></span>;</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>                                        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a8e1ce9ee5d4c2f027cef31cab6409f61">AdcSampleC</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a1375e7eb55e063e3b6c307ba03303e38">DataFromMisoC</a></span>;</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>                                        </div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>                                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>                                    </div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span><span class="comment">                                        --do the difference!</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>                                        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a977cb11de0166c3d59f8e5832bc3d584">AdcSampleA</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="keywordtype">signed</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a977cb11de0166c3d59f8e5832bc3d584">AdcSampleA</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span><span class="vhdlchar">)</span> <span class="vhdlchar">-</span> <span class="keywordtype">signed</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a5e4543380fe2af02f3003eb2bf096834">DataFromMisoA</a></span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;                               </div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>                                        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aef1c5f0ff5115372ff3e871dd9547745">AdcSampleB</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="keywordtype">signed</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aef1c5f0ff5115372ff3e871dd9547745">AdcSampleB</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span><span class="vhdlchar">)</span> <span class="vhdlchar">-</span> <span class="keywordtype">signed</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a29b32760efd7e2ed9f685a5d6ace720f">DataFromMisoB</a></span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;                               </div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>                                        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a8e1ce9ee5d4c2f027cef31cab6409f61">AdcSampleC</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="keywordtype">signed</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a8e1ce9ee5d4c2f027cef31cab6409f61">AdcSampleC</a></span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">23</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span><span class="vhdlchar">)</span> <span class="vhdlchar">-</span> <span class="keywordtype">signed</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a1375e7eb55e063e3b6c307ba03303e38">DataFromMisoC</a></span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;                               </div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>                                        <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a39464606a507df6730bb0b143e8b1fb6">SampleLatched</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>                                        </div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>                                    <span class="keywordflow">end</span> <span class="keywordflow">if</span>;</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>                                    </div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>                                <span class="keywordflow">end</span> <span class="keywordflow">if</span>;</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>                                </div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>                                <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a580d96891b848659f5d1088a1259f073">SamplesThisSecond</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="keywordtype">unsigned</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a580d96891b848659f5d1088a1259f073">SamplesThisSecond</a></span><span class="vhdlchar">)</span> <span class="vhdlchar">+</span> <span class="vhdlchar">x</span><span class="vhdllogic">&quot;00000001&quot;</span><span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>                                </div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span><span class="comment">                                --turn off spi master bus</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>                                <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a95038c4007ce44e1ac1544ea92bd699e">SpiRst</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>                                </div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>                            <span class="keywordflow">end</span> <span class="keywordflow">if</span>;</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>                            </div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>                        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>                        </div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>                            <span class="keywordflow">if</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a3f2435b155c7eeb88b4c29ef92da567d">ReadAdcSample</a></span> <span class="vhdlchar">/=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a11cddd149aee795596bcf7f5bcdd4893">LastReadRequest</a></span><span class="vhdlchar">)</span> <span class="keywordflow">then</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>                    </div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>                                <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a11cddd149aee795596bcf7f5bcdd4893">LastReadRequest</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a3f2435b155c7eeb88b4c29ef92da567d">ReadAdcSample</a></span>;</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>                                </div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>                                <span class="keywordflow">if</span> <span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a3f2435b155c7eeb88b4c29ef92da567d">ReadAdcSample</a></span> <span class="vhdlchar">=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">)</span> <span class="keywordflow">then</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>                                </div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span><span class="comment">                                    --We&#39;re not actually accumulating just yet...</span></div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>                                    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a837c3a62b1e79c196b1a3f37d8c6d041">AdcSampleToReadA</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar">to_signed</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">,</span> <span class="vhdllogic"></span><span class="vhdllogic">48</span><span class="vhdlchar">)</span> <span class="vhdlchar">+</span> <span class="keywordtype">signed</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a977cb11de0166c3d59f8e5832bc3d584">AdcSampleA</a></span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>                                    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a2ac1b37b76485ae5063353556e5ff591">AdcSampleToReadB</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar">to_signed</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">,</span> <span class="vhdllogic"></span><span class="vhdllogic">48</span><span class="vhdlchar">)</span> <span class="vhdlchar">+</span> <span class="keywordtype">signed</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aef1c5f0ff5115372ff3e871dd9547745">AdcSampleB</a></span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>                                    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#ac428dd94627ed95979a57bd902e5fdd7">AdcSampleToReadC</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar">to_signed</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">,</span> <span class="vhdllogic"></span><span class="vhdllogic">48</span><span class="vhdlchar">)</span> <span class="vhdlchar">+</span> <span class="keywordtype">signed</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a8e1ce9ee5d4c2f027cef31cab6409f61">AdcSampleC</a></span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>                                    <span class="vhdlchar"><a class="code hl_variable" href="classLtc2378AccumTrioPorts.html#a011b6c940335f47c6da23e5a2b77dc72">AdcSampleNumAccums</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">x</span><span class="vhdllogic">&quot;0001&quot;</span>;</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span> </div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>                                <span class="keywordflow">end</span> <span class="keywordflow">if</span>;                 </div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span> </div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>                            <span class="keywordflow">end</span> <span class="keywordflow">if</span>;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>                        </div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>                        <span class="keywordflow">end</span> <span class="keywordflow">if</span>;     </div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>                        </div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>                    <span class="keywordflow">end</span> <span class="keywordflow">if</span>;</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>                    </div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>                <span class="keywordflow">end</span> <span class="keywordflow">if</span>;</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>                    </div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>            <span class="keywordflow">end</span> <span class="keywordflow">if</span>;     </div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>            </div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>        <span class="keywordflow">end</span> <span class="keywordflow">if</span>; </div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>        </div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    <span class="keywordflow">end</span> <span class="keywordflow">process</span>;</div>
</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span> </div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span><span class="keywordflow">end</span> Ltc2378AccumTrio;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span> </div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span><span class="comment">    ------------------------------------------------------------------------------------------------------------  A/D ------------------------------------------------------------------------------------------------------------------ ------------------------------------------------------ </span></div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    </div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span><span class="comment">    ---LTC2389 A/D timing</span></div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span><span class="comment">    -- 400 ns min cycle time; 100663296 / 40 = 397 ns cycle time, 99.25%</span></div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span><span class="comment">    -- also shows Tcyc = Tacq + Tconv + Tbusylh; 77ns min + 310ns max (245ns min) + 13ns max.</span></div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    </div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span><span class="comment">    --And run the DC/DC at  A/D / 2 (1MHz):</span></div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span><span class="comment">      --If the A/D clock is stopped (rst), DcDcClk_i doesn&#39;t toggle and the DC/DC is in low noise (DcDcClk_i = 1) or low power (DcDcClk_i = 0) mode.</span></div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span><span class="comment">    --~ DcDcClk_i &lt;= TriggeredSampleClk / 2;</span></div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>        </div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span><span class="comment">    --~ AdcSample(31 downto 18) &lt;= PPSCounter(13 downto 0); --&lt;debug; leave as doc when tested&gt; --better idea than timestamp (or same exact thing from diff register?)? Max res, but max rollover...14b = 16384 and 100663296 / 16384 = 6144Hz (exactly) which would be 162.76uS before rollover, and one sample is 0.000000477s or every 341.2 samples (was 343.39... samples); nonsense calcs: 6144Hz / 48 = 128; 2097152Hz / 128  = 16384; 1/128 = 0.0078125, so 128 rollovers?</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span><span class="comment">    --A/D clock runs at PPSClk / 48, so you&#39;d expect a count of (dithered) exactly 48 PPSClks between samples. So, let&#39;s verify that, and agree that we can ditch the bottom 5 bits of the PPSCounter...</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span><span class="comment">    -- ...at which point we&#39;d do:</span></div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span><span class="comment">    --AdcSample(31 downto 18) &lt;= PPSCount(18 downto 5); --&lt;prefered&gt; --PPSClk &quot;MasterClock 100663296&quot; / 32 = 3145728 which is 3.1MHz, and we can&#39;t run the a/d faster than that, so those bits are superflous (but / 64 would eat a non-toggling bit above 1.57MHz)</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span><span class="comment">    --which would instead rollover at 100663296Hz / 32 / 14b = 192Hz (exactly), which would be 5.208333mS, or every 10922.67 samples (10922 / 341 = 32, in case you were wondering) [2097152 / 10922 = 192, if you were wondering]</span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span><span class="comment">    --now, down the road, we could rewrite the calc of &#39;SubMilliseconds&#39; in RTC to reflect this [PPSCount(18 downto 5)], so the code would be more self-documenting and concise/consistent</span></div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span><span class="comment">    --incidentally, if PPS counts to 100663296, it counts up to 27 bits (which is why we pass it around as a 32-bit counter; if we rewrote that code with the &#39;natural&#39; and &#39;range&#39; constructs we could shrink alot of registers in the fpga by 5 bits (27 bits still holds up to 134MHz)</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span><span class="comment">    --further, if we&#39;re skipping the top (26.5 downto 19) bits of the PPS counter, that&#39;s 8.5 MSB bits of it. bit 19 of PPS counter toggles at 384Hz or every 2.6ms. Samples come in every 477ns (which equates to 5450 samples, half of 10901). My calculator is a POS, it shouldn&#39;t introduce roundoff from cut &amp; paste so soon.</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span><span class="comment">    --...now our double-ledger accounting is done.</span></div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>        </div>
<div class="ttc" id="aclassIBufP2Ports_html"><div class="ttname"><a href="classIBufP2Ports.html">IBufP2Ports</a></div><div class="ttdef"><b>Definition</b> <a href="IBufP2_8vhd_source.html#l00030">IBufP2.vhd:30</a></div></div>
<div class="ttc" id="aclassIBufP2Ports_html_a3f039dc652aa87dcfd27466632b46f9e"><div class="ttname"><a href="classIBufP2Ports.html#a3f039dc652aa87dcfd27466632b46f9e">IBufP2Ports.I</a></div><div class="ttdeci">in I std_logic </div><div class="ttdef"><b>Definition</b> <a href="IBufP2_8vhd_source.html#l00033">IBufP2.vhd:33</a></div></div>
<div class="ttc" id="aclassIBufP2Ports_html_a50da91b765765ac486df1b41692e962f"><div class="ttname"><a href="classIBufP2Ports.html#a50da91b765765ac486df1b41692e962f">IBufP2Ports.clk</a></div><div class="ttdeci">in clk std_logic </div><div class="ttdef"><b>Definition</b> <a href="IBufP2_8vhd_source.html#l00032">IBufP2.vhd:32</a></div></div>
<div class="ttc" id="aclassIBufP2Ports_html_ab89355c345ee51203fa0ebedb3789df7"><div class="ttname"><a href="classIBufP2Ports.html#ab89355c345ee51203fa0ebedb3789df7">IBufP2Ports.O</a></div><div class="ttdeci">out O std_logic </div><div class="ttdef"><b>Definition</b> <a href="IBufP2_8vhd_source.html#l00035">IBufP2.vhd:35</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html">Ltc2378AccumTrioPorts.Ltc2378AccumTrio</a></div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00085">Ltc2378AccumTrio.vhd:85</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_a0199ea23e2fae4abb87aa278c33d9214"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a0199ea23e2fae4abb87aa278c33d9214">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.TriggeredSampleClk</a></div><div class="ttdeci">std_logic TriggeredSampleClk</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00174">Ltc2378AccumTrio.vhd:174</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_a0f6d88d918c9b9400d91a41204e8cbfd"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a0f6d88d918c9b9400d91a41204e8cbfd">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.SpiRst_i</a></div><div class="ttdeci">std_logic SpiRst_i</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00167">Ltc2378AccumTrio.vhd:167</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_a11cddd149aee795596bcf7f5bcdd4893"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a11cddd149aee795596bcf7f5bcdd4893">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.LastReadRequest</a></div><div class="ttdeci">std_logic LastReadRequest</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00188">Ltc2378AccumTrio.vhd:188</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_a1375e7eb55e063e3b6c307ba03303e38"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a1375e7eb55e063e3b6c307ba03303e38">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.DataFromMisoC</a></div><div class="ttdeci">std_logic_vector( 23 downto  0) DataFromMisoC</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00165">Ltc2378AccumTrio.vhd:165</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_a29b32760efd7e2ed9f685a5d6ace720f"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a29b32760efd7e2ed9f685a5d6ace720f">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.DataFromMisoB</a></div><div class="ttdeci">std_logic_vector( 23 downto  0) DataFromMisoB</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00164">Ltc2378AccumTrio.vhd:164</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_a39464606a507df6730bb0b143e8b1fb6"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a39464606a507df6730bb0b143e8b1fb6">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.SampleLatched</a></div><div class="ttdeci">std_logic SampleLatched</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00183">Ltc2378AccumTrio.vhd:183</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_a4d6d3b2abbc19cc0620bc374d5e86c64"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a4d6d3b2abbc19cc0620bc374d5e86c64">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.Sck_i</a></div><div class="ttdeci">std_logic Sck_i</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00170">Ltc2378AccumTrio.vhd:170</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_a56041b2a050cc57d32e5fa8dfa12e26f"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a56041b2a050cc57d32e5fa8dfa12e26f">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.NoDataReady</a></div><div class="ttdeci">std_logic := '1' NoDataReady</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00154">Ltc2378AccumTrio.vhd:154</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_a580d96891b848659f5d1088a1259f073"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a580d96891b848659f5d1088a1259f073">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.SamplesThisSecond</a></div><div class="ttdeci">std_logic_vector( 31 downto  0) SamplesThisSecond</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00186">Ltc2378AccumTrio.vhd:186</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_a5a86ed64ed54d7a2e8965cfd6b8dcf48"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a5a86ed64ed54d7a2e8965cfd6b8dcf48">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.DataReady</a></div><div class="ttdeci">std_logic := '0' DataReady</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00153">Ltc2378AccumTrio.vhd:153</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_a5e4543380fe2af02f3003eb2bf096834"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a5e4543380fe2af02f3003eb2bf096834">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.DataFromMisoA</a></div><div class="ttdeci">std_logic_vector( 23 downto  0) DataFromMisoA</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00163">Ltc2378AccumTrio.vhd:163</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_a85fc7571b3f5ca401e665b34e349521c"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a85fc7571b3f5ca401e665b34e349521c">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.SamplesAveraged</a></div><div class="ttdeci">std_logic_vector( 15 downto  0) SamplesAveraged</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00185">Ltc2378AccumTrio.vhd:185</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_a897b2465f1a32397cfded503ea0617a4"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a897b2465f1a32397cfded503ea0617a4">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.SpiXferComplete</a></div><div class="ttdeci">std_logic SpiXferComplete</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00168">Ltc2378AccumTrio.vhd:168</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_a8e1ce9ee5d4c2f027cef31cab6409f61"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a8e1ce9ee5d4c2f027cef31cab6409f61">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.AdcSampleC</a></div><div class="ttdeci">std_logic_vector( 23 downto  0) AdcSampleC</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00182">Ltc2378AccumTrio.vhd:182</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_a95038c4007ce44e1ac1544ea92bd699e"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a95038c4007ce44e1ac1544ea92bd699e">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.SpiRst</a></div><div class="ttdeci">std_logic SpiRst</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00166">Ltc2378AccumTrio.vhd:166</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_a977cb11de0166c3d59f8e5832bc3d584"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#a977cb11de0166c3d59f8e5832bc3d584">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.AdcSampleA</a></div><div class="ttdeci">std_logic_vector( 23 downto  0) AdcSampleA</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00180">Ltc2378AccumTrio.vhd:180</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_aa485c2952fbc95c44b5fed8fac2cd7e5"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aa485c2952fbc95c44b5fed8fac2cd7e5">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.ChopperPolarity</a></div><div class="ttdeci">std_logic := '0' ChopperPolarity</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00190">Ltc2378AccumTrio.vhd:190</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_ab7a77e40bf258b64127a6d899dda34fc"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#ab7a77e40bf258b64127a6d899dda34fc">clk_div_adcconv</a></div><div class="ttdeci">VariableClockDividerPorts clk_div_adcconvclk_div_adcconv</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00216">Ltc2378AccumTrio.vhd:216</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_ae0b56baaf517c389ca8733957da63f54"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#ae0b56baaf517c389ca8733957da63f54">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.LastnDrdy</a></div><div class="ttdeci">std_logic LastnDrdy</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00156">Ltc2378AccumTrio.vhd:156</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_aea05eba3d1b6dd1132679b0320691b5a"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aea05eba3d1b6dd1132679b0320691b5a">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.LastSpiXferComplete</a></div><div class="ttdeci">std_logic LastSpiXferComplete</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00169">Ltc2378AccumTrio.vhd:169</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio_html_aef1c5f0ff5115372ff3e871dd9547745"><div class="ttname"><a href="classLtc2378AccumTrioPorts_1_1Ltc2378AccumTrio.html#aef1c5f0ff5115372ff3e871dd9547745">Ltc2378AccumTrioPorts.Ltc2378AccumTrio.AdcSampleB</a></div><div class="ttdeci">std_logic_vector( 23 downto  0) AdcSampleB</div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00181">Ltc2378AccumTrio.vhd:181</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html">Ltc2378AccumTrioPorts</a></div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00039">Ltc2378AccumTrio.vhd:39</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a011b6c940335f47c6da23e5a2b77dc72"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a011b6c940335f47c6da23e5a2b77dc72">Ltc2378AccumTrioPorts.AdcSampleNumAccums</a></div><div class="ttdeci">out AdcSampleNumAccums std_logic_vector( 15 downto  0) </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00075">Ltc2378AccumTrio.vhd:75</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a039248d1a510208fdd2aa41ff87c0727"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a039248d1a510208fdd2aa41ff87c0727">Ltc2378AccumTrioPorts.ChopperMuxNeg</a></div><div class="ttdeci">out ChopperMuxNeg std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00068">Ltc2378AccumTrio.vhd:68</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a12122ca018733d9217a0def9e6595f02"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a12122ca018733d9217a0def9e6595f02">Ltc2378AccumTrioPorts.nDrdyC</a></div><div class="ttdeci">in nDrdyC std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00050">Ltc2378AccumTrio.vhd:50</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a17ebf3ec66c722ddd90e782da887cc68"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a17ebf3ec66c722ddd90e782da887cc68">Ltc2378AccumTrioPorts.TP1</a></div><div class="ttdeci">out TP1 std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00078">Ltc2378AccumTrio.vhd:78</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a1b83d907f5b56002ee143294f9a12fbb"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a1b83d907f5b56002ee143294f9a12fbb">Ltc2378AccumTrioPorts.nCsC</a></div><div class="ttdeci">out nCsC std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00053">Ltc2378AccumTrio.vhd:53</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a1fee88b1fefc2c08153289284c3e8654"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a1fee88b1fefc2c08153289284c3e8654">Ltc2378AccumTrioPorts.SamplesToAverage</a></div><div class="ttdeci">in SamplesToAverage std_logic_vector( 15 downto  0) </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00065">Ltc2378AccumTrio.vhd:65</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a2901f0665163844288bcf578c2549150"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a2901f0665163844288bcf578c2549150">Ltc2378AccumTrioPorts.AdcClkDivider</a></div><div class="ttdeci">in AdcClkDivider std_logic_vector( 15 downto  0) </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00064">Ltc2378AccumTrio.vhd:64</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a2ac1b37b76485ae5063353556e5ff591"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a2ac1b37b76485ae5063353556e5ff591">Ltc2378AccumTrioPorts.AdcSampleToReadB</a></div><div class="ttdeci">out AdcSampleToReadB std_logic_vector( 47 downto  0) </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00073">Ltc2378AccumTrio.vhd:73</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a2c4c12ecf6eb4315f8c3e5ec0d20b4f5"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a2c4c12ecf6eb4315f8c3e5ec0d20b4f5">Ltc2378AccumTrioPorts.Sck</a></div><div class="ttdeci">out Sck std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00054">Ltc2378AccumTrio.vhd:54</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a3f2435b155c7eeb88b4c29ef92da567d"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a3f2435b155c7eeb88b4c29ef92da567d">Ltc2378AccumTrioPorts.ReadAdcSample</a></div><div class="ttdeci">in ReadAdcSample std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00071">Ltc2378AccumTrio.vhd:71</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a455ea288aef07919b3c9b4ea8fb7c212"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a455ea288aef07919b3c9b4ea8fb7c212">Ltc2378AccumTrioPorts.OverRangeA</a></div><div class="ttdeci">out OverRangeA std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00058">Ltc2378AccumTrio.vhd:58</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a4def99ac0b2f874114785b96671b92d8"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a4def99ac0b2f874114785b96671b92d8">Ltc2378AccumTrioPorts.OverRangeC</a></div><div class="ttdeci">out OverRangeC std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00060">Ltc2378AccumTrio.vhd:60</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a50da91b765765ac486df1b41692e962f"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a50da91b765765ac486df1b41692e962f">Ltc2378AccumTrioPorts.clk</a></div><div class="ttdeci">in clk std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00043">Ltc2378AccumTrio.vhd:43</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a6702369a2605f8928b98381d6ca651f4"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a6702369a2605f8928b98381d6ca651f4">Ltc2378AccumTrioPorts.Trigger</a></div><div class="ttdeci">out Trigger std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00047">Ltc2378AccumTrio.vhd:47</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a693bb629417f0cc210ae4dc82912f4f1"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a693bb629417f0cc210ae4dc82912f4f1">Ltc2378AccumTrioPorts.TP3</a></div><div class="ttdeci">out TP3 std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00080">Ltc2378AccumTrio.vhd:80</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a78114f1bfe93841b362cba035b2f3b77"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a78114f1bfe93841b362cba035b2f3b77">Ltc2378AccumTrioPorts.ChopperEnable</a></div><div class="ttdeci">in ChopperEnable std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00066">Ltc2378AccumTrio.vhd:66</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a837c3a62b1e79c196b1a3f37d8c6d041"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a837c3a62b1e79c196b1a3f37d8c6d041">Ltc2378AccumTrioPorts.AdcSampleToReadA</a></div><div class="ttdeci">out AdcSampleToReadA std_logic_vector( 47 downto  0) </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00072">Ltc2378AccumTrio.vhd:72</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a8664f917fd0b63aac70a9f432d521b6f"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a8664f917fd0b63aac70a9f432d521b6f">Ltc2378AccumTrioPorts.nDrdyA</a></div><div class="ttdeci">in nDrdyA std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00048">Ltc2378AccumTrio.vhd:48</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_a930d1f4a2e747a0acab590ffffccb4b8"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#a930d1f4a2e747a0acab590ffffccb4b8">Ltc2378AccumTrioPorts.MisoB</a></div><div class="ttdeci">in MisoB std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00056">Ltc2378AccumTrio.vhd:56</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_aa4d9db30b119d1d1a125a4071ebba597"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#aa4d9db30b119d1d1a125a4071ebba597">Ltc2378AccumTrioPorts.MisoC</a></div><div class="ttdeci">in MisoC std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00057">Ltc2378AccumTrio.vhd:57</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_aacec3188d4ef48d129570ed9e9ee5c9d"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#aacec3188d4ef48d129570ed9e9ee5c9d">Ltc2378AccumTrioPorts.nCsA</a></div><div class="ttdeci">out nCsA std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00051">Ltc2378AccumTrio.vhd:51</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_ab6e08f5e1578e236ca2a84a29eaa8190"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#ab6e08f5e1578e236ca2a84a29eaa8190">Ltc2378AccumTrioPorts.nCsB</a></div><div class="ttdeci">out nCsB std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00052">Ltc2378AccumTrio.vhd:52</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_abf137664dd4ef8c0013c908a876f9624"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#abf137664dd4ef8c0013c908a876f9624">Ltc2378AccumTrioPorts.MisoA</a></div><div class="ttdeci">in MisoA std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00055">Ltc2378AccumTrio.vhd:55</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_ac428dd94627ed95979a57bd902e5fdd7"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#ac428dd94627ed95979a57bd902e5fdd7">Ltc2378AccumTrioPorts.AdcSampleToReadC</a></div><div class="ttdeci">out AdcSampleToReadC std_logic_vector( 47 downto  0) </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00074">Ltc2378AccumTrio.vhd:74</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_ac88e3812006822f96c48e579a2ce9e99"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#ac88e3812006822f96c48e579a2ce9e99">Ltc2378AccumTrioPorts.OverRangeB</a></div><div class="ttdeci">out OverRangeB std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00059">Ltc2378AccumTrio.vhd:59</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_ae106f17a2b73445119c8eb039d3e102e"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#ae106f17a2b73445119c8eb039d3e102e">Ltc2378AccumTrioPorts.rst</a></div><div class="ttdeci">in rst std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00044">Ltc2378AccumTrio.vhd:44</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_ae4996365c828a8faf87d20119b1521b0"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#ae4996365c828a8faf87d20119b1521b0">Ltc2378AccumTrioPorts.nDrdyB</a></div><div class="ttdeci">in nDrdyB std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00049">Ltc2378AccumTrio.vhd:49</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_ae8df744efc7f25f447aa65d1e936084e"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#ae8df744efc7f25f447aa65d1e936084e">Ltc2378AccumTrioPorts.TP4</a></div><div class="ttdeci">out TP4 std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00083">Ltc2378AccumTrio.vhd:83</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_aeb4bde87de67fcfade7d502e53b6cfbb"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#aeb4bde87de67fcfade7d502e53b6cfbb">Ltc2378AccumTrioPorts.AdcPowerDown</a></div><div class="ttdeci">in AdcPowerDown std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00063">Ltc2378AccumTrio.vhd:63</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_af2c4aae0794acf961d160e7add6806f8"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#af2c4aae0794acf961d160e7add6806f8">Ltc2378AccumTrioPorts.ChopperMuxPos</a></div><div class="ttdeci">out ChopperMuxPos std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00067">Ltc2378AccumTrio.vhd:67</a></div></div>
<div class="ttc" id="aclassLtc2378AccumTrioPorts_html_af62c2f691ddb862ef5b4e92d18006e30"><div class="ttname"><a href="classLtc2378AccumTrioPorts.html#af62c2f691ddb862ef5b4e92d18006e30">Ltc2378AccumTrioPorts.TP2</a></div><div class="ttdeci">out TP2 std_logic </div><div class="ttdef"><b>Definition</b> <a href="Ltc2378AccumTrio_8vhd_source.html#l00079">Ltc2378AccumTrio.vhd:79</a></div></div>
<div class="ttc" id="aclassOneShotPorts_html"><div class="ttname"><a href="classOneShotPorts.html">OneShotPorts</a></div><div class="ttdef"><b>Definition</b> <a href="OneShot_8vhd_source.html#l00030">OneShot.vhd:30</a></div></div>
<div class="ttc" id="aclassOneShotPorts_html_a31d22b1a37cce56337cb74b0ba227d43"><div class="ttname"><a href="classOneShotPorts.html#a31d22b1a37cce56337cb74b0ba227d43">OneShotPorts.SHOT_PRETRIGGER_STATE</a></div><div class="ttdeci">SHOT_PRETRIGGER_STATE std_logic := '0'</div><div class="ttdef"><b>Definition</b> <a href="OneShot_8vhd_source.html#l00036">OneShot.vhd:36</a></div></div>
<div class="ttc" id="aclassOneShotPorts_html_a50da91b765765ac486df1b41692e962f"><div class="ttname"><a href="classOneShotPorts.html#a50da91b765765ac486df1b41692e962f">OneShotPorts.clk</a></div><div class="ttdeci">in clk std_logic </div><div class="ttdef"><b>Definition</b> <a href="OneShot_8vhd_source.html#l00038">OneShot.vhd:38</a></div></div>
<div class="ttc" id="aclassOneShotPorts_html_a6a11fa47a1ec73785d03fb0100709205"><div class="ttname"><a href="classOneShotPorts.html#a6a11fa47a1ec73785d03fb0100709205">OneShotPorts.SHOT_RST_STATE</a></div><div class="ttdeci">SHOT_RST_STATE std_logic := '0'</div><div class="ttdef"><b>Definition</b> <a href="OneShot_8vhd_source.html#l00034">OneShot.vhd:34</a></div></div>
<div class="ttc" id="aclassOneShotPorts_html_a9bbb41e72aaac192b35b40aae673643c"><div class="ttname"><a href="classOneShotPorts.html#a9bbb41e72aaac192b35b40aae673643c">OneShotPorts.shot</a></div><div class="ttdeci">out shot std_logic </div><div class="ttdef"><b>Definition</b> <a href="OneShot_8vhd_source.html#l00041">OneShot.vhd:41</a></div></div>
<div class="ttc" id="aclassOneShotPorts_html_ac713e7f8356dce1de08a5ca9e7251f22"><div class="ttname"><a href="classOneShotPorts.html#ac713e7f8356dce1de08a5ca9e7251f22">OneShotPorts.CLOCK_FREQHZ</a></div><div class="ttdeci">CLOCK_FREQHZ natural := 10000000</div><div class="ttdef"><b>Definition</b> <a href="OneShot_8vhd_source.html#l00032">OneShot.vhd:32</a></div></div>
<div class="ttc" id="aclassOneShotPorts_html_ae106f17a2b73445119c8eb039d3e102e"><div class="ttname"><a href="classOneShotPorts.html#ae106f17a2b73445119c8eb039d3e102e">OneShotPorts.rst</a></div><div class="ttdeci">in rst std_logic </div><div class="ttdef"><b>Definition</b> <a href="OneShot_8vhd_source.html#l00039">OneShot.vhd:39</a></div></div>
<div class="ttc" id="aclassOneShotPorts_html_afb2df3abec692a2b3e83d5d1cf74b7e6"><div class="ttname"><a href="classOneShotPorts.html#afb2df3abec692a2b3e83d5d1cf74b7e6">OneShotPorts.DELAY_SECONDS</a></div><div class="ttdeci">DELAY_SECONDS real := 0.001</div><div class="ttdef"><b>Definition</b> <a href="OneShot_8vhd_source.html#l00033">OneShot.vhd:33</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html"><div class="ttname"><a href="classSpiMasterTrioPorts.html">SpiMasterTrioPorts</a></div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00038">SpiMasterTrio.vhd:38</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_a0c6fe64603b6c60c6f87c70ff2ef0586"><div class="ttname"><a href="classSpiMasterTrioPorts.html#a0c6fe64603b6c60c6f87c70ff2ef0586">SpiMasterTrioPorts.CLOCK_DIVIDER</a></div><div class="ttdeci">CLOCK_DIVIDER natural := 1000</div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00041">SpiMasterTrio.vhd:41</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_a0cb0d82b93a514529e8fe015095c10f3"><div class="ttname"><a href="classSpiMasterTrioPorts.html#a0cb0d82b93a514529e8fe015095c10f3">SpiMasterTrioPorts.MosiB</a></div><div class="ttdeci">out MosiB std_logic </div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00054">SpiMasterTrio.vhd:54</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_a0dab64414058cfb072958100082d0452"><div class="ttname"><a href="classSpiMasterTrioPorts.html#a0dab64414058cfb072958100082d0452">SpiMasterTrioPorts.MosiC</a></div><div class="ttdeci">out MosiC std_logic </div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00055">SpiMasterTrio.vhd:55</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_a2c4c12ecf6eb4315f8c3e5ec0d20b4f5"><div class="ttname"><a href="classSpiMasterTrioPorts.html#a2c4c12ecf6eb4315f8c3e5ec0d20b4f5">SpiMasterTrioPorts.Sck</a></div><div class="ttdeci">out Sck std_logic </div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00056">SpiMasterTrio.vhd:56</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_a47dbfcf57950840b78e393a0edafa590"><div class="ttname"><a href="classSpiMasterTrioPorts.html#a47dbfcf57950840b78e393a0edafa590">SpiMasterTrioPorts.DataFromMisoA</a></div><div class="ttdeci">out DataFromMisoA std_logic_vector((   BYTE_WIDTH* 8)- 1 downto  0) </div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00065">SpiMasterTrio.vhd:65</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_a4ce7af1830e5c42d8c14f6f64d09b73a"><div class="ttname"><a href="classSpiMasterTrioPorts.html#a4ce7af1830e5c42d8c14f6f64d09b73a">SpiMasterTrioPorts.MosiA</a></div><div class="ttdeci">out MosiA std_logic </div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00053">SpiMasterTrio.vhd:53</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_a4e5b911ada797dbf2555df752b56c302"><div class="ttname"><a href="classSpiMasterTrioPorts.html#a4e5b911ada797dbf2555df752b56c302">SpiMasterTrioPorts.XferComplete</a></div><div class="ttdeci">out XferComplete std_logic </div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00069">SpiMasterTrio.vhd:69</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_a4f59a0bc20f9002233d662f15fcd7445"><div class="ttname"><a href="classSpiMasterTrioPorts.html#a4f59a0bc20f9002233d662f15fcd7445">SpiMasterTrioPorts.DataToMosiC</a></div><div class="ttdeci">in DataToMosiC std_logic_vector((   BYTE_WIDTH* 8)- 1 downto  0) </div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00064">SpiMasterTrio.vhd:64</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_a50da91b765765ac486df1b41692e962f"><div class="ttname"><a href="classSpiMasterTrioPorts.html#a50da91b765765ac486df1b41692e962f">SpiMasterTrioPorts.clk</a></div><div class="ttdeci">in clk std_logic </div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00049">SpiMasterTrio.vhd:49</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_a87b4547d8281df9cbc4fb3e7f9754431"><div class="ttname"><a href="classSpiMasterTrioPorts.html#a87b4547d8281df9cbc4fb3e7f9754431">SpiMasterTrioPorts.DataToMosiA</a></div><div class="ttdeci">in DataToMosiA std_logic_vector((   BYTE_WIDTH* 8)- 1 downto  0) </div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00062">SpiMasterTrio.vhd:62</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_a8db6bfecddf6930f5703b8be6031ef64"><div class="ttname"><a href="classSpiMasterTrioPorts.html#a8db6bfecddf6930f5703b8be6031ef64">SpiMasterTrioPorts.CPOL</a></div><div class="ttdeci">CPOL std_logic := '0'</div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00043">SpiMasterTrio.vhd:43</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_a930d1f4a2e747a0acab590ffffccb4b8"><div class="ttname"><a href="classSpiMasterTrioPorts.html#a930d1f4a2e747a0acab590ffffccb4b8">SpiMasterTrioPorts.MisoB</a></div><div class="ttdeci">in MisoB std_logic </div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00058">SpiMasterTrio.vhd:58</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_aa4d9db30b119d1d1a125a4071ebba597"><div class="ttname"><a href="classSpiMasterTrioPorts.html#aa4d9db30b119d1d1a125a4071ebba597">SpiMasterTrioPorts.MisoC</a></div><div class="ttdeci">in MisoC std_logic </div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00059">SpiMasterTrio.vhd:59</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_ab8ff57af1ccdcbcd9c538aa3d276a2a9"><div class="ttname"><a href="classSpiMasterTrioPorts.html#ab8ff57af1ccdcbcd9c538aa3d276a2a9">SpiMasterTrioPorts.BYTE_WIDTH</a></div><div class="ttdeci">BYTE_WIDTH natural := 1</div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00042">SpiMasterTrio.vhd:42</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_abc283f45349c45ac39898b612385c8ae"><div class="ttname"><a href="classSpiMasterTrioPorts.html#abc283f45349c45ac39898b612385c8ae">SpiMasterTrioPorts.DataToMosiB</a></div><div class="ttdeci">in DataToMosiB std_logic_vector((   BYTE_WIDTH* 8)- 1 downto  0) </div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00063">SpiMasterTrio.vhd:63</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_abf137664dd4ef8c0013c908a876f9624"><div class="ttname"><a href="classSpiMasterTrioPorts.html#abf137664dd4ef8c0013c908a876f9624">SpiMasterTrioPorts.MisoA</a></div><div class="ttdeci">in MisoA std_logic </div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00057">SpiMasterTrio.vhd:57</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_ad4eb4a624c47b0c231e8f7cc7cf7b452"><div class="ttname"><a href="classSpiMasterTrioPorts.html#ad4eb4a624c47b0c231e8f7cc7cf7b452">SpiMasterTrioPorts.DataFromMisoB</a></div><div class="ttdeci">out DataFromMisoB std_logic_vector((   BYTE_WIDTH* 8)- 1 downto  0) </div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00066">SpiMasterTrio.vhd:66</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_ae106f17a2b73445119c8eb039d3e102e"><div class="ttname"><a href="classSpiMasterTrioPorts.html#ae106f17a2b73445119c8eb039d3e102e">SpiMasterTrioPorts.rst</a></div><div class="ttdeci">in rst std_logic </div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00050">SpiMasterTrio.vhd:50</a></div></div>
<div class="ttc" id="aclassSpiMasterTrioPorts_html_aff9a2dd68330c676e3329bd32dbef8ff"><div class="ttname"><a href="classSpiMasterTrioPorts.html#aff9a2dd68330c676e3329bd32dbef8ff">SpiMasterTrioPorts.DataFromMisoC</a></div><div class="ttdeci">out DataFromMisoC std_logic_vector((   BYTE_WIDTH* 8)- 1 downto  0) </div><div class="ttdef"><b>Definition</b> <a href="SpiMasterTrio_8vhd_source.html#l00067">SpiMasterTrio.vhd:67</a></div></div>
<div class="ttc" id="aclassVariableClockDividerPorts_html"><div class="ttname"><a href="classVariableClockDividerPorts.html">VariableClockDividerPorts</a></div><div class="ttdef"><b>Definition</b> <a href="VariableClockDivider_8vhd_source.html#l00030">VariableClockDivider.vhd:30</a></div></div>
<div class="ttc" id="aclassVariableClockDividerPorts_html_a328c73179f2d206edbcc89efe2d779ad"><div class="ttname"><a href="classVariableClockDividerPorts.html#a328c73179f2d206edbcc89efe2d779ad">VariableClockDividerPorts.WIDTH_BITS</a></div><div class="ttdeci">WIDTH_BITS natural := 8</div><div class="ttdef"><b>Definition</b> <a href="VariableClockDivider_8vhd_source.html#l00032">VariableClockDivider.vhd:32</a></div></div>
<div class="ttc" id="aclassVariableClockDividerPorts_html_a3b8e4034d77aecc179eaa754227e27b4"><div class="ttname"><a href="classVariableClockDividerPorts.html#a3b8e4034d77aecc179eaa754227e27b4">VariableClockDividerPorts.DIVOUT_RST_STATE</a></div><div class="ttdeci">DIVOUT_RST_STATE std_logic := '0'</div><div class="ttdef"><b>Definition</b> <a href="VariableClockDivider_8vhd_source.html#l00034">VariableClockDivider.vhd:34</a></div></div>
<div class="ttc" id="aclassVariableClockDividerPorts_html_a9406fa80338b3dc283daf476f82e2ea6"><div class="ttname"><a href="classVariableClockDividerPorts.html#a9406fa80338b3dc283daf476f82e2ea6">VariableClockDividerPorts.rst_count</a></div><div class="ttdeci">in rst_count std_logic_vector(   WIDTH_BITS- 1 downto  0) </div><div class="ttdef"><b>Definition</b> <a href="VariableClockDivider_8vhd_source.html#l00039">VariableClockDivider.vhd:39</a></div></div>
<div class="ttc" id="aclassVariableClockDividerPorts_html_aa5ba78429503871b8839c61caf563d62"><div class="ttname"><a href="classVariableClockDividerPorts.html#aa5ba78429503871b8839c61caf563d62">VariableClockDividerPorts.clko</a></div><div class="ttdeci">out clko std_logic </div><div class="ttdef"><b>Definition</b> <a href="VariableClockDivider_8vhd_source.html#l00042">VariableClockDivider.vhd:42</a></div></div>
<div class="ttc" id="aclassVariableClockDividerPorts_html_ab6afeb79cee6c62943c5cd580842a904"><div class="ttname"><a href="classVariableClockDividerPorts.html#ab6afeb79cee6c62943c5cd580842a904">VariableClockDividerPorts.clki</a></div><div class="ttdeci">in clki std_logic </div><div class="ttdef"><b>Definition</b> <a href="VariableClockDivider_8vhd_source.html#l00037">VariableClockDivider.vhd:37</a></div></div>
<div class="ttc" id="aclassVariableClockDividerPorts_html_abd8f52e80199144de1356e6e442e5632"><div class="ttname"><a href="classVariableClockDividerPorts.html#abd8f52e80199144de1356e6e442e5632">VariableClockDividerPorts.terminal_count</a></div><div class="ttdeci">in terminal_count std_logic_vector(   WIDTH_BITS- 1 downto  0) </div><div class="ttdef"><b>Definition</b> <a href="VariableClockDivider_8vhd_source.html#l00040">VariableClockDivider.vhd:40</a></div></div>
<div class="ttc" id="aclassVariableClockDividerPorts_html_ae106f17a2b73445119c8eb039d3e102e"><div class="ttname"><a href="classVariableClockDividerPorts.html#ae106f17a2b73445119c8eb039d3e102e">VariableClockDividerPorts.rst</a></div><div class="ttdeci">in rst std_logic </div><div class="ttdef"><b>Definition</b> <a href="VariableClockDivider_8vhd_source.html#l00038">VariableClockDivider.vhd:38</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_e7282fc4c0331918f4f7fd2fbab1d013.html">fpga</a></li><li class="navelem"><a class="el" href="Ltc2378AccumTrio_8vhd.html">Ltc2378AccumTrio.vhd</a></li>
    <li class="footer">Generated on Sun Jul 6 2025 15:25:34 for ESC FilterWheel Fpga Source by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
